(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{22:function(e,t,a){var r=a(77);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a(39).default)("4c79820e",r,!0,{})},76:function(e,t,a){"use strict";var r=a(22);a.n(r).a},77:function(e,t,a){(e.exports=a(38)(!1)).push([e.i,".table-header-form[data-v-4517d8dc] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n}\n.table-header-form__field[data-v-4517d8dc] {\n  display: inline-block;\n  padding-right: 15px;\n  padding-bottom: 10px;\n}\n.table-header-form__field--block[data-v-4517d8dc] {\n  display: flex;\n  align-items: baseline;\n  padding-right: 0;\n}\n.table-header-form__field--block .table-header-form__label[data-v-4517d8dc] {\n  flex-grow: 0;\n}\n.table-header-form__field--block .table-header-form__input[data-v-4517d8dc] {\n  flex-grow: 1;\n}\n.table-header-form__button[data-v-4517d8dc] {\n  margin: 10px 10px 0 0;\n}\n",""])},81:function(e,t,a){"use strict";a.r(t);var r=a(1),n={name:"App"},i=a(0),s=Object(i.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("h1",[this._v("Event Planner")]),this._v(" "),t("router-view")],1)}),[],!1,null,null,null).exports,d=a(27),l={name:"IconsForm",props:{icons:Array}},o=Object(i.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-form"},e._l(e.icons,(function(t,r){return a("div",{key:t.name+"_"+r,staticClass:"icons-form__icon"},[a("i",{class:"fa fa-fw fa-"+t.icon}),e._v(" "+e._s(t.name)+"\n  ")])})),0)}),[],!1,null,"3915b842",null).exports,c=a(3),u=a.n(c);const m=(window.eventPlannerApp?window.eventPlannerApp.rest_url:"http://127.0.0.1:8000/wp-json/")+"event-planner/v1/";async function p(e){try{return(await u()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}u.a.defaults.headers.common["X-WP-Nonce"]=window.eventPlannerApp?window.eventPlannerApp.nonce:null;var _={name:"TableHeaderForm",components:{IconsForm:o},props:{isFirst:Boolean,id:String,name:String,order_id:String,group_id:String,type:String,additional:String,description:String},data(){return{modelName:this.name,modelOrderId:this.order_id,modelType:this.type,modelDescription:this.description}},methods:{async saveHeader(){const e=await async function(e){return e.id?await p({method:"post",url:`${m}update-header`,data:e}):(console.error("updateHeader failed because no header id was given!"),{error:"Es fehlen Daten, um die Änderungen zu speichern!"})}({id:this.id,name:this.modelName,order_id:this.modelOrderId,type:this.modelType,additional:this.additional,description:this.modelDescription});e&&e.error?alert(`Beim Bearbeiten ist ein Fehler aufgetreten: ${e.error}`):e&&e.success?alert("Änderungen gespeichert!"):(console.error(e),alert("Es ist ein unbekannter Fehler aufgetreten!"))},async deleteHeader(){if(window.confirm("Dieser Tabellenkopf und alle zugehörigen Tabbellendaten werden endgültig gelöscht. Dies kann nicht rueckgängig gemacht werden. Bist du sicher?")){const e=await async function(e){return e?await p({method:"delete",url:`${m}delete-header`,data:{id:e}}):(console.error("deleteHeader failed because no header id was given!"),{error:"Es fehlen Daten, um den Header zu löschen!"})}(this.id);if(e&&e.success)return void this.$emit("delete");if(e&&e.error)return void alert(`Beim Löschen ist ein Fehler aufgetreten: ${e.error}`);alert("Beim Löschen ist ein unbekannter Fehler aufgetreten")}}}},h=(a(76),{name:"EditTableHeaders",components:{TableHeaderForm:Object(i.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"table-header-form"},[e.isFirst?a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("i",{staticClass:"fa fa-info-circle"}),e._v("  "),a("strong",[e._v("Der erste Header muss immer das Datum der Veranstaltung enthalten. Deswegen kann hier nur der Name und die Beschreibung geändert werden.")])]):e._e(),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_name_"+e.id}},[e._v("Name: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"table-header-form__input",attrs:{type:"text",id:"header_name_"+e.id},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_type_"+e.id}},[e._v("\n      Typ: "),a("i",{staticClass:"fa fa-info-circle",attrs:{title:"Da je nach Typ unterschiedliche Daten in der Tabelle gespeichert werden, kann das Ändern des Typs zu unvorhergesehen Ergebnissen führen. Also am Besten nur ändern, wenn du weißt, was du tust."}}),e._v(" \n    ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.modelType,expression:"modelType"}],staticClass:"table-header-form__input",attrs:{id:"header_type_"+e.id,disabled:e.isFirst},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"date"}},[e._v("Datum")]),e._v(" "),a("option",{attrs:{value:"text"}},[e._v("Text")]),e._v(" "),a("option",{attrs:{value:"longtext"}},[e._v("Mehrzeiliger Text")]),e._v(" "),a("option",{attrs:{value:"icons"}},[e._v("Icons")])])]),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_order_"+e.id}},[e._v("Reihenfolge: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelOrderId,expression:"modelOrderId"}],staticClass:"table-header-form__input",attrs:{type:"number",id:"header_order_"+e.id,disabled:e.isFirst,min:e.isFirst?1:2,step:"1"},domProps:{value:e.modelOrderId},on:{input:function(t){t.target.composing||(e.modelOrderId=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_description_"+e.id}},[e._v("\n      Beschreibung: "),a("i",{staticClass:"fa fa-info-circle",attrs:{title:"Die Beschreibung wird - wenn vorhanden - angezeigt, wenn sich die Maus über dem Tabellenkopf befindet."}}),e._v(" \n    ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelDescription,expression:"modelDescription"}],staticClass:"table-header-form__input",attrs:{type:"text",id:"header_description_"+e.id},domProps:{value:e.modelDescription},on:{input:function(t){t.target.composing||(e.modelDescription=t.target.value)}}})]),e._v(" "),"icons"===e.type?a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_description_"+e.id}},[e._v("\n      Icons:\n    ")]),e._v(" "),a("IconsForm",{attrs:{icons:JSON.parse(e.additional||"[]")}})],1):e._e(),e._v(" "),a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("button",{staticClass:"table-header-form__button",attrs:{type:"button"},on:{click:e.saveHeader}},[a("i",{staticClass:"fa fa-fw fa-save"}),e._v(" Speichern\n      ")]),e._v(" "),a("button",{staticClass:"table-header-form__button",attrs:{type:"button"},on:{click:e.deleteHeader}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n      ")])])])}),[],!1,null,"4517d8dc",null).exports},data:()=>({headers:[]}),async created(){this.headers=await async function(){return await p({method:"get",url:`${m}headers`})}()}}),f=Object(i.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h2",[e._v("Tabellenköpfe bearbeiten")]),e._v(" "),e._l(e.headers,(function(t,r){return a("TableHeaderForm",e._b({key:"header_"+t.id,attrs:{isFirst:0===r}},"TableHeaderForm",t,!1))}))],2)}),[],!1,null,"2c459d46",null).exports,v={name:"EditTeaser",data:()=>({})},b=Object(i.a)(v,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-settings"},[t("h2",[this._v("Teaser bearbeiten")])])}],!1,null,"926af922",null).exports;r.a.use(d.a);var g=new d.a({routes:[{path:"/",name:"EditTableHeaders",component:f},{path:"/teaser",name:"EditTeaser",component:b}]});var w=function(e){var t=jQuery;let a=t("#toplevel_page_"+e),r=window.location.href,n=r.substr(r.indexOf("admin.php"));a.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",a).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",a).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",a).each((function(e,a){t(a).attr("href")!==n||t(a).parent().addClass("current")}))};r.a.config.productionTip=!1,new r.a({el:"#vue-admin-app",router:g,render:e=>e(s)}),w("vue-app")}},[[81,0,1]]]);
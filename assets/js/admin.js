(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{227:function(e,t,n){"use strict";var r=n(76);n.n(r).a},228:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".table-header-form[data-v-c44d7990] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.table-header-form__field[data-v-c44d7990] {\n  display: inline-block;\n  padding-right: 15px;\n  padding-bottom: 10px;\n}\n.table-header-form__field--block[data-v-c44d7990] {\n  display: flex;\n  align-items: baseline;\n  padding-right: 0;\n}\n.table-header-form__field--block .table-header-form__label[data-v-c44d7990] {\n  flex-grow: 0;\n}\n.table-header-form__field--block .table-header-form__input[data-v-c44d7990] {\n  flex-grow: 1;\n}\n.table-header-form__button[data-v-c44d7990] {\n  margin: 10px 10px 0 0;\n}\n",""])},229:function(e,t,n){"use strict";var r=n(77);n.n(r).a},230:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".table-group-form[data-v-69bb2e6e] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.table-group-form__field[data-v-69bb2e6e] {\n  padding-bottom: 10px;\n}\n.table-group-form__headers[data-v-69bb2e6e] {\n  display: flex;\n  padding-bottom: 10px;\n}\n.table-group-form__headers-title[data-v-69bb2e6e] {\n  flex-grow: 0;\n  padding-right: 10px;\n}\n.table-group-form__headers-list[data-v-69bb2e6e] {\n  flex-grow: 1;\n  margin: 0;\n  list-style-type: disc;\n  padding-left: 20px;\n}\n",""])},231:function(e,t,n){"use strict";var r=n(78);n.n(r).a},232:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".edit-table-groups__hint[data-v-485eab0b] {\n  display: block;\n  padding-bottom: 15px;\n}\n",""])},233:function(e,t,n){"use strict";var r=n(79);n.n(r).a},234:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".teaser-form__field[data-v-0858f0a4] {\n  padding: 10px;\n  max-width: 1000px;\n  border: 1px solid gray;\n  margin-bottom: 15px;\n}\n.teaser-form__text[data-v-0858f0a4] {\n  margin: 0 0 10px;\n}\n",""])},235:function(e,t,n){"use strict";var r=n(80);n.n(r).a},236:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".footnotes-form[data-v-11fa8c52] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.footnotes-form__field[data-v-11fa8c52] {\n  display: flex;\n  padding: 5px 0;\n}\n.footnotes-form__input[data-v-11fa8c52] {\n  flex-grow: 1;\n}\n.footnotes-form__button[data-v-11fa8c52] {\n  flex-grow: 0;\n}\n.footnotes-form__button[data-v-11fa8c52]:not(:first-child) {\n  margin-left: 5px;\n}\n",""])},237:function(e,t,n){"use strict";var r=n(81);n.n(r).a},238:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".settings-form__field[data-v-490e3f17] {\n  padding: 10px;\n  max-width: 1000px;\n  border: 1px solid gray;\n  margin-bottom: 15px;\n}\n.settings-form__header[data-v-490e3f17]:first-child {\n  padding-top: 10px;\n}\n",""])},239:function(e,t,n){"use strict";var r=n(82);n.n(r).a},240:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".edit-settings__list[data-v-f48f19d2] {\n  list-style: disc;\n  padding-inline-start: 40px;\n}\n",""])},244:function(e,t,n){"use strict";n.r(t);var r=n(1),a={name:"App"},o=n(0),i=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("h1",[this._v("Event Planner")]),this._v(" "),t("router-view")],1)}),[],!1,null,null,null).exports,s=n(112),u=(n(105),n(106),n(137),n(224),n(108),n(111),n(8),n(12),n(142),n(144),n(149),n(13),n(27),n(32),n(47),n(160),{name:"IconsForm",props:{icons:{type:Array,default:function(){return[]}}},data:function(){return{modeledIcons:this.icons.map((function(e){return Object.assign({},e)}))}},methods:{addIcon:function(){var e=prompt("Gib den Fontawesome Icon Name an: ");e?this.modeledIcons.push({icon:e,name:"[Beschreibung]"}):null!==e&&alert("Du musst einen Icon Namen für das neue Icon angeben!")},deleteIcon:function(e){window.confirm('Dieses Icon wirklich loeschen? (Wird erst endgültig gespeichert, wenn du auf "Speichern" geklickt hast.)')&&this.modeledIcons.splice(e,1)}}}),d=Object(o.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icons-form"},[e._l(e.modeledIcons,(function(t,r){return n("div",{key:t.icon+"_"+r,staticClass:"icons-form__icon"},[n("i",{class:"fa fa-fw fa-"+t.icon}),e._v(" \n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"icon.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),e._v(" \n        "),n("DeleteButton",{nativeOn:{click:function(t){return e.deleteIcon(r)}}})],1)})),e._v(" "),n("AddButton",{attrs:{text:"Icon hinzufügen"},nativeOn:{click:function(t){return e.addIcon(t)}}}),e._v(" "),n("a",{attrs:{href:"https://fontawesome.com/icons?d=gallery&m=free",target:"_blank"}},[e._v("Hier kannst du sehen, welche Icons es gibt.")])],2)}),[],!1,null,"fb0fd5de",null).exports,l=n(34),c=n.n(l);function f(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,s,"next",e)}function s(e){f(o,r,a,i,s,"throw",e)}i(void 0)}))}}var m=(window.eventPlannerApp?window.eventPlannerApp.rest_url:"http://127.0.0.1:8000/wp-json/")+"event-planner/v1/";function h(){return v.apply(this,arguments)}function v(){return(v=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"get",url:"".concat(m,"headers")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return _.apply(this,arguments)}function _(){return(_=p(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"".concat(m,"add-header"),data:{name:t,order_id:n,type:"text",additional:"",description:""}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,W({method:"post",url:"".concat(m,"update-header"),data:t});case 3:return e.abrupt("return",e.sent);case 6:return console.error("updateHeader failed because no header id was given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Änderungen zu speichern!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,W({method:"delete",url:"".concat(m,"delete-header"),data:{id:t}});case 3:return e.abrupt("return",e.sent);case 6:return console.error("deleteHeader failed because no header id was given!"),e.abrupt("return",{error:"Es fehlen Daten, um den Tabellenkopf zu löschen!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"get",url:"".concat(m,"header-groups")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return H.apply(this,arguments)}function H(){return(H=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"".concat(m,"add-header-group"),data:{name:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=p(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=6;break}return e.next=3,W({method:"post",url:"".concat(m,"update-header-group"),data:{id:t,name:n,added:r,deleted:a}});case 3:return e.abrupt("return",e.sent);case 6:return console.error("updateHeaderGroup failed because not enough data was given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Änderungen zu speichern!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return R.apply(this,arguments)}function R(){return(R=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,W({method:"delete",url:"".concat(m,"delete-header-group"),data:{id:t}});case 3:return e.abrupt("return",e.sent);case 6:return console.error("deleteHeaderGroup failed because no header group id was given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Tabellengruppe zu löschen!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return z.apply(this,arguments)}function z(){return(z=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"get",url:"".concat(m,"header-footnotes")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return B.apply(this,arguments)}function B(){return(B=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"".concat(m,"add-header-footnote"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return D.apply(this,arguments)}function D(){return(D=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.id&&t.text&&t.header_id)){e.next=6;break}return e.next=3,W({method:"post",url:"".concat(m,"update-header-footnote"),data:t});case 3:return e.abrupt("return",e.sent);case 6:return console.error("updateFootnote failed because not enough data was given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Änderungen zu speichern!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return E.apply(this,arguments)}function E(){return(E=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,W({method:"delete",url:"".concat(m,"delete-header-footnote"),data:{id:t}});case 3:return e.abrupt("return",e.sent);case 6:return console.error("deleteFootnote failed because no footnote id was given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Fußnote zu löschen!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return $.apply(this,arguments)}function $(){return($=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"get",url:"".concat(m,"config")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return V.apply(this,arguments)}function V(){return(V=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,W({method:"post",url:"".concat(m,"update-config"),data:t});case 3:return e.abrupt("return",e.sent);case 6:return console.error("updateConfig failed because no config was not given!"),e.abrupt("return",{error:"Es fehlen Daten, um die Änderungen zu speichern!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return J.apply(this,arguments)}function J(){return(J=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function L(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)}))}}c.a.defaults.headers.common["X-WP-Nonce"]=window.eventPlannerApp?window.eventPlannerApp.nonce:null;var M={name:"TableHeaderForm",components:{IconsForm:d},props:{isFirst:{type:Boolean,default:!1},id:{type:String,default:""},name:{type:String,default:""},order_id:{type:String,default:""},group_id:{type:String,default:""},type:{type:String,default:""},additional:{type:String,default:""},description:{type:String,default:""}},data:function(){return{modelName:this.name,modelOrderId:this.order_id,modelType:this.type,modelDescription:this.description,infoTextForType:"Da je nach Typ unterschiedliche Daten in der Tabelle gespeichert werden, kann das nachträgliche Ändern des Typs zu unvorhergesehen Ergebnissen führen. Also am Besten nur ändern, wenn du weißt, was du tust.",infoForDescription:"Die Beschreibung wird - wenn vorhanden - angezeigt, wenn sich die Maus über dem Tabellenkopf befindet."}},methods:{saveHeader:function(){var e=this;return Z(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({id:e.id,name:e.modelName,order_id:e.modelOrderId,type:e.modelType,additional:"icons"===e.modelType?JSON.stringify(e.$refs.icons.modeledIcons):"",description:e.modelDescription});case 2:(n=t.sent)&&n.error?alert("Beim Bearbeiten ist ein Fehler aufgetreten: ".concat(n.error)):n&&n.success?(alert("Änderungen gespeichert!"),e.$emit("delete")):(console.error(n),alert("Es ist ein unbekannter Fehler aufgetreten!"));case 4:case"end":return t.stop()}}),t)})))()},deleteHeader:function(){var e=this;return Z(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Dieser Tabellenkopf und alle zugehörigen Tabellendaten werden endgültig gelöscht. Dies kann nicht rueckgängig gemacht werden. Bist du sicher?")){t.next=13;break}return t.next=4,w(e.id);case 4:if(!(n=t.sent)||!n.success){t.next=9;break}return alert("Tabellenkopf und zugehörige Daten wurden gelöscht!"),e.$emit("delete"),t.abrupt("return");case 9:if(!n||!n.error){t.next=12;break}return alert("Beim Löschen ist ein Fehler aufgetreten: ".concat(n.error)),t.abrupt("return");case 12:alert("Beim Löschen ist ein unbekannter Fehler aufgetreten");case 13:case"end":return t.stop()}}),t)})))()}}};n(227);function K(e,t){var n=parseInt(e.order_id),r=parseInt(t.order_id);return n<r?-1:n>r?1:0}function Q(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,s,"next",e)}function s(e){Q(o,r,a,i,s,"throw",e)}i(void 0)}))}}function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var U={name:"EditTableHeaders",components:{TableHeaderForm:Object(o.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"table-header-form"},[e.isFirst?n("div",{staticClass:"table-header-form__field table-header-form__field--block"},[n("i",{staticClass:"fa fa-info-circle"}),e._v(" \n        "),n("strong",[e._v("Der erste Tabellenkopf muss immer das Datum der Veranstaltung enthalten.\n            Deswegen kann hier nur der Name und die Beschreibung geändert werden.")])]):e._e(),e._v(" "),n("div",{staticClass:"table-header-form__field"},[n("label",{staticClass:"table-header-form__label",attrs:{for:"header_name_"+e.id}},[e._v("Name: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"table-header-form__input",attrs:{id:"header_name_"+e.id,type:"text"},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"table-header-form__field"},[n("label",{staticClass:"table-header-form__label",attrs:{for:"header_type_"+e.id}},[e._v("\n            Typ: "),n("i",{staticClass:"fa fa-info-circle",attrs:{title:e.infoTextForType}}),e._v(" \n        ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.modelType,expression:"modelType"}],staticClass:"table-header-form__input",attrs:{id:"header_type_"+e.id,disabled:e.isFirst},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"date"}},[e._v("\n                Datum\n            ")]),e._v(" "),n("option",{attrs:{value:"text"}},[e._v("\n                Text\n            ")]),e._v(" "),n("option",{attrs:{value:"longtext"}},[e._v("\n                Mehrzeiliger Text\n            ")]),e._v(" "),n("option",{attrs:{value:"icons"}},[e._v("\n                Icons\n            ")])])]),e._v(" "),n("div",{staticClass:"table-header-form__field"},[n("label",{staticClass:"table-header-form__label",attrs:{for:"header_order_"+e.id}},[e._v("Reihenfolge: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelOrderId,expression:"modelOrderId"}],staticClass:"table-header-form__input",attrs:{id:"header_order_"+e.id,type:"number",disabled:e.isFirst,min:e.isFirst?1:2,step:"1"},domProps:{value:e.modelOrderId},on:{input:function(t){t.target.composing||(e.modelOrderId=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"table-header-form__field table-header-form__field--block"},[n("label",{staticClass:"table-header-form__label",attrs:{for:"header_description_"+e.id}},[e._v("\n            Beschreibung: "),n("i",{staticClass:"fa fa-info-circle",attrs:{title:e.infoForDescription}}),e._v(" \n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelDescription,expression:"modelDescription"}],staticClass:"table-header-form__input",attrs:{id:"header_description_"+e.id,type:"text"},domProps:{value:e.modelDescription},on:{input:function(t){t.target.composing||(e.modelDescription=t.target.value)}}})]),e._v(" "),"icons"===e.modelType?n("div",{staticClass:"table-header-form__field table-header-form__field--block"},[n("label",{staticClass:"table-header-form__label"},[e._v("\n            Icons:\n        ")]),e._v(" "),n("IconsForm",{ref:"icons",attrs:{icons:JSON.parse(e.additional||"[]")}})],1):e._e(),e._v(" "),n("div",{staticClass:"table-header-form__field table-header-form__field--block"},[n("SaveButton",{staticClass:"table-header-form__button",nativeOn:{click:function(t){return e.saveHeader(t)}}}),e._v(" "),e.isFirst?e._e():n("DeleteButton",{staticClass:"table-header-form__button",nativeOn:{click:function(t){return e.deleteHeader(t)}}})],1)])}),[],!1,null,"c44d7990",null).exports},data:function(){return{headers:[]}},computed:{orderedHeaders:function(){return q(this.headers).sort(K)}},created:function(){var e=this;return X(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadHeaders();case 2:case"end":return t.stop()}}),t)})))()},methods:{loadHeaders:function(){var e=this;return X(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e.headers=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addNewHeader:function(){var e=this;return X(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=prompt("Wie soll der neue Tabellenkopf heißen?"))){t.next=17;break}return r=parseInt(e.orderedHeaders[e.orderedHeaders.length-1].order_id),t.next=5,g(n,r+1);case 5:if(!(a=t.sent)||!a.success){t.next=11;break}return alert("Tabellenkopf wurde angelegt!"),t.next=10,e.loadHeaders();case 10:return t.abrupt("return");case 11:if(!a||!a.error){t.next=14;break}return alert("Beim Anlegen ist ein Fehler aufgetreten: ".concat(a.error)),t.abrupt("return");case 14:alert("Beim Anlegen ist ein unbekannter Fehler aufgetreten"),t.next=18;break;case 17:null!==n&&alert("Bitte gib einen Namen an, wenn du einen Tabellenkopf hinzufügen willst!");case 18:case"end":return t.stop()}}),t)})))()}}},Y=Object(o.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-table-headers"},[n("h2",[e._v("Tabellenköpfe bearbeiten")]),e._v(" "),e._l(e.orderedHeaders,(function(t){return n("TableHeaderForm",e._b({key:"header_"+t.id,attrs:{"is-first":"1"===t.order_id},on:{delete:e.loadHeaders,update:e.loadHeaders}},"TableHeaderForm",t,!1))})),e._v(" "),n("AddButton",{staticClass:"edit-table-headers__add",attrs:{text:"Tabellenkopf hinzufügen"},nativeOn:{click:function(t){return e.addNewHeader(t)}}})],2)}),[],!1,null,"19c5e12e",null).exports;n(15),n(33);function ee(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)}))}}var ne={name:"TableGroupForm",props:{headers:{type:Array,default:function(){return[]}},id:{type:String,default:""},name:{type:String,default:""}},data:function(){return{modelName:this.name,modelAddHeader:"",addedHeaders:[],deletedHeaders:[]}},computed:{groupHeaders:function(){var e=this;return this.headers.filter((function(t){return t.group_id===e.id&&-1===e.deletedHeaders.indexOf(t.id)||e.addedHeaders.indexOf(t.id)>-1})).sort(K)},nonGroupHeaders:function(){var e=this;return this.headers.filter((function(t){return!t.group_id&&-1===e.addedHeaders.indexOf(t.id)||e.deletedHeaders.indexOf(t.id)>-1})).sort(K)}},methods:{addHeader:function(){var e=this.deletedHeaders.indexOf(this.modelAddHeader);e>-1?this.deletedHeaders.splice(e,1):-1===this.addedHeaders.indexOf(this.modelAddHeader)&&this.addedHeaders.push(this.modelAddHeader),this.modelAddHeader=""},deleteHeader:function(e){var t=this.addedHeaders.indexOf(e);t>-1?this.addedHeaders.splice(t,1):-1===this.deletedHeaders.indexOf(e)&&this.deletedHeaders.push(e)},saveGroup:function(){var e=this;return te(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e.id,e.modelName,e.addedHeaders,e.deletedHeaders);case 2:if(!(n=t.sent)||!n.success){t.next=7;break}return alert("Änderungen wurden gespeichert!"),e.$emit("update-group"),t.abrupt("return");case 7:if(!n||!n.error){t.next=10;break}return alert("Beim Speichern ist ein Fehler aufgetreten: ".concat(n.error)),t.abrupt("return");case 10:alert("Beim Speichern ist ein unbekannter Fehler aufgetreten");case 11:case"end":return t.stop()}}),t)})))()},deleteGroup:function(){var e=this;return te(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Diese Tabellengruppe und alle Zuordnungen werden endgültig gelöscht. Dies kann nicht rueckgängig gemacht werden. Bist du sicher?")){t.next=13;break}return t.next=4,I(e.id);case 4:if(!(n=t.sent)||!n.success){t.next=9;break}return alert("Tabellengruppe und Zuordnungen wurden gelöscht!"),e.$emit("delete-group"),t.abrupt("return");case 9:if(!n||!n.error){t.next=12;break}return alert("Beim Löschen ist ein Fehler aufgetreten: ".concat(n.error)),t.abrupt("return");case 12:alert("Beim Löschen ist ein unbekannter Fehler aufgetreten");case 13:case"end":return t.stop()}}),t)})))()}}};n(229);function re(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){re(o,r,a,i,s,"next",e)}function s(e){re(o,r,a,i,s,"throw",e)}i(void 0)}))}}var oe={name:"EditTableGroups",components:{TableGroupForm:Object(o.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"table-group-form"},[n("div",{staticClass:"table-group-form__field"},[n("label",{staticClass:"table-group-form__label",attrs:{for:"group_name_"+e.id}},[e._v("Name: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"table-group-form__input",attrs:{id:"group_name_"+e.id,type:"text"},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"table-group-form__headers"},[n("div",{staticClass:"table-group-form__headers-title"},[e._v("\n            Zugeordnete Tabellenköpfe:\n        ")]),e._v(" "),n("ul",{staticClass:"table-group-form__headers-list"},e._l(e.groupHeaders,(function(t){return n("li",{key:"group_header_"+t.id},[e._v("\n                "+e._s(t.name)+" \n                "),n("DeleteButton",{staticClass:"table-group-form__button",nativeOn:{click:function(n){return e.deleteHeader(t.id)}}})],1)})),0)]),e._v(" "),n("div",{staticClass:"table-group-form__field"},[e._v("\n        Tabellenkopf hinzufügen:\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.modelAddHeader,expression:"modelAddHeader"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelAddHeader=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v("\n                --Auswählen--\n            ")]),e._v(" "),e._l(e.nonGroupHeaders,(function(t){return n("option",{key:"non_group_header_"+t.id,domProps:{value:t.id}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))],2),e._v(" "),n("AddButton",{staticClass:"table-group-form__button",nativeOn:{click:function(t){return e.addHeader(t)}}})],1),e._v(" "),n("div",{staticClass:"table-group-form__field"},[n("SaveButton",{staticClass:"table-group-form__button",nativeOn:{click:function(t){return e.saveGroup(t)}}}),e._v(" "),n("DeleteButton",{staticClass:"table-group-form__DeleteButton",nativeOn:{click:function(t){return e.deleteGroup(t)}}})],1)])}),[],!1,null,"69bb2e6e",null).exports},data:function(){return{headers:[],headerGroups:[]}},created:function(){var e=this;return ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:case"end":return t.stop()}}),t)})))()},methods:{load:function(){var e=this;return ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadHeaders();case 2:return t.next=4,e.loadHeaderGroups();case 4:case"end":return t.stop()}}),t)})))()},loadHeaders:function(){var e=this;return ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e.headers=t.sent;case 3:case"end":return t.stop()}}),t)})))()},loadHeaderGroups:function(){var e=this;return ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:e.headerGroups=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addNewGroup:function(){var e=this;return ae(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=prompt("Wie soll die neue Tabellengruppe heißen?"))){t.next=16;break}return t.next=4,F(n);case 4:if(!(r=t.sent)||!r.success){t.next=10;break}return alert("Tabellengruppe wurde angelegt!"),t.next=9,e.loadHeaderGroups();case 9:return t.abrupt("return");case 10:if(!r||!r.error){t.next=13;break}return alert("Beim Anlegen ist ein Fehler aufgetreten: ".concat(r.error)),t.abrupt("return");case 13:alert("Beim Anlegen ist ein unbekannter Fehler aufgetreten"),t.next=17;break;case 16:null!==n&&alert("Bitte gib einen Namen an, wenn du eine Tabellengruppe hinzufügen willst!");case 17:case"end":return t.stop()}}),t)})))()}}},ie=(n(231),Object(o.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-table-groups"},[n("h2",[e._v("Tabellengruppen bearbeiten")]),e._v(" "),e._m(0),e._v(" "),e._l(e.headerGroups,(function(t){return n("TableGroupForm",e._b({key:"group_"+t.id,attrs:{headers:e.headers.filter((function(e){return"1"!==e.order_id}))},on:{"update-group":e.load,"delete-group":e.loadHeaderGroups}},"TableGroupForm",t,!1))})),e._v(" "),n("AddButton",{staticClass:"edit-table-groups__add",attrs:{text:"Tabellengruppe hinzufügen"},nativeOn:{click:function(t){return e.addNewGroup(t)}}})],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("strong",{staticClass:"edit-table-groups__hint"},[this._v("\n        Tabellenköpfe in einer Gruppe sollten möglichst in der Reihenfolge direkt nacheinander stehen\n        (das macht die Tabelle übersichtlicher)."),t("br"),this._v("\n        Jeder Tabellenkopf kann nur einer Gruppe zugeordnet werden."),t("br"),this._v("\n        Willst du also einen Tabellenkopf in eine andere Gruppe verschieben,\n        musst du ihn zuerst aus der alten Gruppe löschen, speichern\n        und dann in der neuen hinzufügen und wieder speichern.\n    ")])}],!1,null,"485eab0b",null).exports);function se(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){se(o,r,a,i,s,"next",e)}function s(e){se(o,r,a,i,s,"throw",e)}i(void 0)}))}}var de={name:"TeaserForm",data:function(){return{config:[],headers:[],modelIconHeader:"",modelCancelIcon:"",modelShowIcons:!1,modelIconsHeadline:""}},computed:{mainText:function(){return this.getConfigValue("teaser_main_text")},cancelText:function(){return this.getConfigValue("teaser_cancel_text")},iconHeaders:function(){return this.headers.filter((function(e){return"icons"===e.type}))}},mounted:function(){var e=this;return ue(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e.config=t.sent,e.modelIconHeader=e.getConfigValue("header_for_widget"),e.modelCancelIcon=e.getConfigValue("icon_for_cancel"),e.modelShowIcons="1"===e.getConfigValue("teaser_show_icons"),e.modelIconsHeadline=e.getConfigValue("teaser_icons_headline"),setTimeout((function(){wp.editor.initialize("editor-main-text"),wp.editor.initialize("editor-cancel-text")}),0),t.next=10,h();case 10:e.headers=t.sent;case 11:case"end":return t.stop()}}),t)})))()},methods:{save:function(){var e=this;return ue(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j({teaser_main_text:wp.editor.getContent("editor-main-text"),teaser_cancel_text:wp.editor.getContent("editor-cancel-text"),header_for_widget:e.modelIconHeader,icon_for_cancel:e.modelCancelIcon,teaser_show_icons:e.modelShowIcons,teaser_icons_headline:e.modelIconsHeadline});case 2:if(!(n=t.sent)||!n.success){t.next=6;break}return alert("Änderungen wurden gespeichert!"),t.abrupt("return");case 6:if(!n||!n.error){t.next=9;break}return alert("Beim Speichern ist ein Fehler aufgetreten: ".concat(n.error)),t.abrupt("return");case 9:console.error(n),alert("Beim Speichern ist ein unbekannter Fehler aufgetreten");case 11:case"end":return t.stop()}}),t)})))()},getConfigValue:function(e){var t=this.config.filter((function(t){return t.name===e}));return t.length?t[0].data:""}}},le=(n(233),{name:"EditTeaser",components:{TeaserForm:Object(o.a)(de,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"teaser-form"},[n("div",{staticClass:"teaser-form__field"},[e._m(0),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mainText,expression:"mainText"}],attrs:{id:"editor-main-text",name:"editor-main-text",cols:"30",rows:"10"},domProps:{value:e.mainText},on:{input:function(t){t.target.composing||(e.mainText=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"teaser-form__field"},[n("p",{staticClass:"teaser-form__text"},[e._v("\n            Hier kann ein anderer Text angegeben werden, der erscheinen soll, wenn die Veranstaltung ausfällt\n            (Verwende auch hier %date% an der Stelle, wo das Datum erscheinen soll):\n        ")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.cancelText,expression:"cancelText"}],attrs:{id:"editor-cancel-text",name:"editor-cancel-text",cols:"30",rows:"10"},domProps:{value:e.cancelText},on:{input:function(t){t.target.composing||(e.cancelText=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"teaser-form__field"},[n("p",{staticClass:"teaser-form__text"},[e._v('\n            Damit du angeben kannst, dass eine Veranstaltung ausfällt,\n            musst du in der Tabelle einen Tabellenkopf vom Typ "Icons" anlegen und dort ein Icon hinzufügen,\n            welches ausgewählt werden muss, wenn eine Veranstaltung ausfällt.\n        ')]),e._v(" "),n("p",{staticClass:"teaser-form__text"},[n("label",{attrs:{for:"icon-header"}},[e._v("Wähle hier den entsprechenden Tabellenkopf aus:")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.modelIconHeader,expression:"modelIconHeader"}],attrs:{id:"icon-header"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelIconHeader=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v("\n                    --Auswählen--\n                ")]),e._v(" "),e._l(e.iconHeaders,(function(t){return n("option",{key:"icon_header_"+t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2)]),e._v(" "),n("p",{staticClass:"teaser-form__text"},[n("label",{attrs:{for:"cancel-icon"}},[e._v("Gib hier den Namen des entsprechenden Icons an (Fontawesome Icon Name):")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelCancelIcon,expression:"modelCancelIcon"}],attrs:{id:"cancel-icon",type:"text"},domProps:{value:e.modelCancelIcon},on:{input:function(t){t.target.composing||(e.modelCancelIcon=t.target.value)}}})]),e._v(" "),n("p",{staticClass:"teaser-form__text"},[e._v("\n            Sollen die anderen Icons aus dem Tabellenkopf unter dem Teasertext angezeigt werden?\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelShowIcons,expression:"modelShowIcons"}],attrs:{id:"show-icons",type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.modelShowIcons)?e._i(e.modelShowIcons,"true")>-1:e.modelShowIcons},on:{change:function(t){var n=e.modelShowIcons,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=e._i(n,"true");r.checked?o<0&&(e.modelShowIcons=n.concat(["true"])):o>-1&&(e.modelShowIcons=n.slice(0,o).concat(n.slice(o+1)))}else e.modelShowIcons=a}}}),n("label",{attrs:{for:"show-icons"}},[e._v("Ja")])]),e._v(" "),n("p",{staticClass:"teaser-form__text"},[n("label",{attrs:{for:"icons-headline"}},[e._v('\n                Wenn über den Icons noch eine Überschrift ("Besonderheiten" o.ä.) erscheinen soll,\n                dann gib diese hier an:\n            ')]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelIconsHeadline,expression:"modelIconsHeadline"}],attrs:{id:"icons-headline",type:"text"},domProps:{value:e.modelIconsHeadline},on:{input:function(t){t.target.composing||(e.modelIconsHeadline=t.target.value)}}})])]),e._v(" "),n("div",[n("SaveButton",{staticClass:"teaser-form__button",nativeOn:{click:function(t){return e.save(t)}}})],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"teaser-form__text"},[this._v("\n            Der Shortcode "),t("strong",[this._v("[eventplanner_current]")]),this._v(" ist dazu gedacht,\n            einen kurzen Text auszugeben, der den Besucher über die\n            nächste regelmäßig stattfindende Veranstaltung (z.B. den nächsten Gottesdienst) informiert\n            (z.B. zur Anzeige auf der Startseite).\n            Hier kann der Text dafür eingegeben werden\n            (Verwende %date% an der Stelle, wo das Datum erscheinen soll):\n        ")])}],!1,null,"0858f0a4",null).exports}}),ce=Object(o.a)(le,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-settings"},[t("h2",[this._v("Teaser bearbeiten")]),this._v(" "),t("TeaserForm")],1)}),[],!1,null,"2a017ec8",null).exports;n(107),n(25),n(26);function fe(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fe(o,r,a,i,s,"next",e)}function s(e){fe(o,r,a,i,s,"throw",e)}i(void 0)}))}}var me={name:"FootnotesForm",props:{header:{type:Object,default:function(){}},footnotes:{type:Array,default:function(){return[]}}},data:function(){return{modeledFootnotes:this.footnotes.map((function(e){return Object.assign({deleted:!1},e)})),countNew:0,newPrefix:"NEW"}},computed:{modeledFootnotesFiltered:function(){return this.modeledFootnotes.filter((function(e){return!0!==e.deleted}))}},methods:{deleteFootnote:function(e){window.confirm('Diese Fußnote wirklich loeschen? (Wird erst endgültig gespeichert, wenn du auf "Speichern" geklickt hast.)')&&(0===this.modeledFootnotes[e].id.indexOf(this.newPrefix)?this.modeledFootnotes.splice(e,1):this.modeledFootnotes[e].deleted=!0)},addFootnote:function(){var e=prompt("Gib den Text für die Fußnote an: ");e?(this.modeledFootnotes.push({text:e,header_id:this.header.id,id:"".concat(this.newPrefix,"_").concat(this.countNew)}),this.countNew++):null!==e&&alert("Du musst einen Text für die neue Fußnote angeben!")},save:function(){var e=this;return pe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.next=3,e.modeledFootnotes.forEach(function(){var t=pe(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.deleted){t.next=6;break}return t.next=3,P(r.id);case 3:a=t.sent,t.next=15;break;case 6:if(0!==r.id.indexOf(e.newPrefix)){t.next=12;break}return t.next=9,O(r);case 9:a=t.sent,t.next=15;break;case 12:return t.next=14,N(r);case 14:a=t.sent;case 15:if(!a.error){t.next=19;break}return n=!0,alert(a.error),t.abrupt("return");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:n||(alert("Änderungen gespeichert!"),e.$emit("update"));case 4:case"end":return t.stop()}}),t)})))()}}};n(235);function he(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){he(o,r,a,i,s,"next",e)}function s(e){he(o,r,a,i,s,"throw",e)}i(void 0)}))}}var ge={name:"EditFootnotes",components:{FootnotesForm:Object(o.a)(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"footnotes-form"},[n("strong",[e._v(e._s(e.header.name))]),e._v(" "),e._l(e.modeledFootnotesFiltered,(function(t,r){return n("div",{key:"footnote_"+t.id,staticClass:"footnotes-form__field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"footnote.text"}],staticClass:"footnotes-form__input",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(n){n.target.composing||e.$set(t,"text",n.target.value)}}}),e._v(" "),n("DeleteButton",{staticClass:"footnotes-form__button",nativeOn:{click:function(t){return e.deleteFootnote(r)}}})],1)})),e._v(" "),n("div",{staticClass:"footnotes-form__field"},[e.modeledFootnotes.length?n("SaveButton",{staticClass:"footnotes-form__button",nativeOn:{click:function(t){return e.save(t)}}}):e._e(),e._v(" "),n("AddButton",{staticClass:"footnotes-form__button",attrs:{text:"Fußnote hinzufügen"},nativeOn:{click:function(t){return e.addFootnote(t)}}})],1)],2)}),[],!1,null,"11fa8c52",null).exports},data:function(){return{headers:[],footnotes:[]}},created:function(){var e=this;return ve(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:case"end":return t.stop()}}),t)})))()},methods:{load:function(){var e=this;return ve(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.headers=[],t.next=3,S();case 3:return e.footnotes=t.sent,t.next=6,h();case 6:e.headers=t.sent;case 7:case"end":return t.stop()}}),t)})))()},getFootnotesForHeader:function(e){return this.footnotes.filter((function(t){return t.header_id===e}))}}},_e=Object(o.a)(ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-footnotes"},[n("h2",[e._v("Fußnoten bearbeiten")]),e._v(" "),e._l(e.headers,(function(t){return n("FootnotesForm",{key:"header_"+t.id,attrs:{header:t,footnotes:e.getFootnotesForHeader(t.id)},on:{update:e.load}})}))],2)}),[],!1,null,null,null).exports;function be(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){be(o,r,a,i,s,"next",e)}function s(e){be(o,r,a,i,s,"throw",e)}i(void 0)}))}}var we={name:"SettingsForm",data:function(){return{modelWeekday:"sunday",modelHeaders:[],config:[],headers:[],modelAutofill:!1,modelFontawesome:!0}},mounted:function(){var e=this;return xe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e.config=t.sent,t.next=5,h();case 5:e.headers=t.sent,e.modelWeekday=e.getConfigValue("autofill_weekday"),e.modelAutofill="1"===e.getConfigValue("use_autofill"),e.modelFontawesome="1"===e.getConfigValue("use_fontawesome"),(n=e.getConfigValue("static_fields"))&&(e.modelHeaders=JSON.parse(n));case 11:case"end":return t.stop()}}),t)})))()},methods:{save:function(){var e=this;return xe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j({autofill_weekday:e.modelWeekday,static_fields:JSON.stringify(e.modelHeaders),use_autofill:e.modelAutofill,use_fontawesome:e.modelFontawesome});case 2:if(!(n=t.sent)||!n.success){t.next=6;break}return alert("Änderungen wurden gespeichert!"),t.abrupt("return");case 6:if(!n||!n.error){t.next=9;break}return alert("Beim Speichern ist ein Fehler aufgetreten: ".concat(n.error)),t.abrupt("return");case 9:console.error(n),alert("Beim Speichern ist ein unbekannter Fehler aufgetreten");case 11:case"end":return t.stop()}}),t)})))()},getConfigValue:function(e){var t=this.config.filter((function(t){return t.name===e}));return t.length?t[0].data:""}}},ke=(n(237),{name:"EditSettings",components:{SettingsForm:Object(o.a)(we,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"settings-form"},[n("div",{staticClass:"settings-form__field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelAutofill,expression:"modelAutofill"}],attrs:{id:"autofill",type:"checkbox"},domProps:{checked:Array.isArray(e.modelAutofill)?e._i(e.modelAutofill,null)>-1:e.modelAutofill},on:{change:function(t){var n=e.modelAutofill,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&(e.modelAutofill=n.concat([null])):o>-1&&(e.modelAutofill=n.slice(0,o).concat(n.slice(o+1)))}else e.modelAutofill=a}}}),e._v(" "),n("label",{attrs:{for:"autofill"}},[e._v("Tabelle automatisch befüllen")]),e._v(" "),n("br"),e._v(" "),n("small",[e._v("\n            Wenn du diese Option auswählst, werden immer automatisch Veranstaltungen für deinen gewählten Wochentag\n            (siehe unten) für das laufende und das kommende Jahr angelegt.\n            Du kannst diese dann trotzdem manuell löschen bzw. Veranstaltungen an anderen Wochentagen\n            manuell hinzufügen.\n        ")])]),e._v(" "),n("div",{staticClass:"settings-form__field"},[n("label",{attrs:{for:"weekday"}},[e._v("\n            Wähle hier aus, an welchem Wochentag deine regelmäßige Veranstaltung (z.B. Gottesdienst) stattfindet.\n        ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.modelWeekday,expression:"modelWeekday"}],attrs:{id:"weekday"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelWeekday=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"sunday"}},[e._v("\n                Sonntag\n            ")]),e._v(" "),n("option",{attrs:{value:"monday"}},[e._v("\n                Montag\n            ")]),e._v(" "),n("option",{attrs:{value:"tuesday"}},[e._v("\n                Dienstag\n            ")]),e._v(" "),n("option",{attrs:{value:"wednesday"}},[e._v("\n                Mittwoch\n            ")]),e._v(" "),n("option",{attrs:{value:"thursday"}},[e._v("\n                Donnerstag\n            ")]),e._v(" "),n("option",{attrs:{value:"friday"}},[e._v("\n                Freitag\n            ")]),e._v(" "),n("option",{attrs:{value:"saturday"}},[e._v("\n                Samstag\n            ")])]),e._v(" "),n("br"),e._v(" "),n("small",[e._v("\n            Diese Einstellungen wird für das automatische Befüllen der Tabelle verwendet\n            und für die Anzeige des Teasers.\n        ")])]),e._v(" "),n("div",{staticClass:"settings-form__field"},[e._v('\n        Hier kannst du auswählen, welche Tabellenköpfe bei der Übersichtstabelle\n        (Shortcode: [eventplanner static="true"]) standardmäßig angezeigt werden sollen:'),n("br"),e._v("\n        (Die Nutzer können dann trotzdem über Filter alle Tabellenköpfe ein- und ausblenden)"),n("br"),e._v(" "),n("div",e._l(e.headers,(function(t){return n("div",{key:"header_"+t.id,staticClass:"settings-form__header"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.modelHeaders,expression:"modelHeaders",modifiers:{number:!0}}],attrs:{id:"header_"+t.id,type:"checkbox",disabled:"1"===t.order_id},domProps:{value:t.id,checked:Array.isArray(e.modelHeaders)?e._i(e.modelHeaders,t.id)>-1:e.modelHeaders},on:{change:function(n){var r=e.modelHeaders,a=n.target,o=!!a.checked;if(Array.isArray(r)){var i=e._n(t.id),s=e._i(r,i);a.checked?s<0&&(e.modelHeaders=r.concat([i])):s>-1&&(e.modelHeaders=r.slice(0,s).concat(r.slice(s+1)))}else e.modelHeaders=o}}}),e._v(" "),n("label",{attrs:{for:"header_"+t.id}},[e._v(e._s(t.name))])])})),0)]),e._v(" "),n("div",{staticClass:"settings-form__field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelFontawesome,expression:"modelFontawesome"}],attrs:{id:"fontawesome",type:"checkbox"},domProps:{checked:Array.isArray(e.modelFontawesome)?e._i(e.modelFontawesome,null)>-1:e.modelFontawesome},on:{change:function(t){var n=e.modelFontawesome,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&(e.modelFontawesome=n.concat([null])):o>-1&&(e.modelFontawesome=n.slice(0,o).concat(n.slice(o+1)))}else e.modelFontawesome=a}}}),e._v(" "),n("label",{attrs:{for:"fontawesome"}},[e._v("Fontawesome laden")]),e._v(" "),n("br"),e._v(" "),n("small",[e._v("\n            Wenn du diese Option auswählst, wird das CSS für die Icons von Fontawesome durch das Plugin geladen.\n            (Es kann sein, dass dein Theme oder ein anderes Plugin bereits Fontawesome Icons lädt und es deswegen\n            zu Konflikten kommt, bzw. unnötig zweimal die gleichen Icons geladen werden - im Zweifelsfall, einfach\n            mal ausprobieren, ob die Icons noch korrekt funktionieren, wenn du hier den Haken nicht setzt.)\n        ")])]),e._v(" "),n("SaveButton",{staticClass:"settings-form__button",nativeOn:{click:function(t){return e.save(t)}}})],1)}),[],!1,null,"490e3f17",null).exports}}),ye=(n(239),Object(o.a)(ke,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-settings"},[n("h2",[e._v("Allgemeines")]),e._v(" "),n("p",[e._v("Der Event Planner funktioniert folgendermaßen:")]),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Einstellungen")]),e._v(" "),n("p",[e._v("Hier kannst du noch einige allgemeine Einstellungen vornehmen.")]),e._v(" "),n("SettingsForm")],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"edit-settings__list"},[n("li",[e._v('\n            Lege hier in den Einstellungen unter "Tabellenköpfe" fest,\n            welche Daten in der Planungstabelle erfasst werden sollen (z.B. Ort der Veranstaltung, Prediger usw.).\n        ')]),e._v(" "),n("li",[e._v("\n            Außerdem kannst du Tabellenköpfe zu Gruppen zusammenfassen\n            (diese werden in der Tabelle entsprechend dargestellt und können ein- und ausgeklappt werden)\n            und Fußnoten mit Anmerkungen zu den Tabellenköpfen angeben.\n        ")]),e._v(" "),n("li",[e._v("\n            Füge auf der Seite, auf der die Planungstabelle angezeigt werden soll,\n            den Shortcode "),n("strong",[e._v("[eventplanner]")]),e._v(" ein.\n        ")]),e._v(" "),n("li",[e._v("\n            Die so erzeugte Tabelle kan von jedem Besucher der Seite\n            per Klick auf die Tabellenfelder bearbeitet werden\n            - sie sollte also nur den Leuten zugänglich gemacht werden, die dazu berechtigt sind.\n        ")]),e._v(" "),n("li",[e._v("\n            Zusätzlich gibt es den Shortcode "),n("strong",[e._v('[eventplanner static="true"]')]),e._v('\n            - dieser erzeugt eine andere Ansicht der Tabelle, die eher als statische Übersicht gedacht ist.\n            Hier können zusätzlich ein oder mehrere Jahre angegeben werden, für die Daten angezeigt werden sollen,\n            z.B. [eventplanner static="true" years="2020,2021"].\n        ')])])}],!1,null,"f48f19d2",null).exports);r.a.use(s.a);var Ce=new s.a({routes:[{path:"/",name:"EditSettings",component:ye},{path:"/table-headers",name:"EditTableHeaders",component:Y},{path:"/teaser",name:"EditTeaser",component:ce},{path:"/table-groups",name:"EditTableGroups",component:ie},{path:"/footnotes",name:"EditFootnotes",component:_e}]});var Fe=function(e){var t=jQuery,n=t("#toplevel_page_"+e),r=window.location.href,a=r.substr(r.indexOf("admin.php"));n.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",n).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",n).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",n).each((function(e,n){t(n).attr("href")!==a||t(n).parent().addClass("current")}))},He={name:"SaveButton",props:{text:{type:String,default:"Hinzufügen"}}},Te=Object(o.a)(He,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{attrs:{type:"button"}},[t("i",{staticClass:"fa fa-fw fa-plus"}),this._v(" "+this._s(this.text)+"\n")])}),[],!1,null,null,null).exports,Ae={name:"DeleteButton",props:{text:{type:String,default:"Löschen"}}},Ie=Object(o.a)(Ae,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{attrs:{type:"button"}},[t("i",{staticClass:"fa fa-fw fa-trash"}),this._v(" "+this._s(this.text)+"\n")])}),[],!1,null,null,null).exports,Re={name:"SaveButton",props:{text:{type:String,default:"Speichern"}}},Se=Object(o.a)(Re,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{attrs:{type:"button"}},[t("i",{staticClass:"fa fa-fw fa-save"}),this._v(" "+this._s(this.text)+"\n")])}),[],!1,null,null,null).exports;r.a.component("AddButton",Te),r.a.component("DeleteButton",Ie),r.a.component("SaveButton",Se),r.a.config.productionTip=!1,new r.a({el:"#vue-admin-app",router:Ce,render:function(e){return e(i)}}),Fe("vue-app")},76:function(e,t,n){var r=n(228);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("8889de24",r,!0,{})},77:function(e,t,n){var r=n(230);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("38985e0f",r,!0,{})},78:function(e,t,n){var r=n(232);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("35fef8c1",r,!0,{})},79:function(e,t,n){var r=n(234);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("8b8b94ac",r,!0,{})},80:function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("e80a4492",r,!0,{})},81:function(e,t,n){var r=n(238);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("73dd76b6",r,!0,{})},82:function(e,t,n){var r=n(240);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(23).default)("7c3d9e3c",r,!0,{})}},[[244,0,1]]]);

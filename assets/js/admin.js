(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{24:function(e,t,a){var n=a(80);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(5).default)("179bcd55",n,!0,{})},25:function(e,t,a){var n=a(82);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(5).default)("2171d6a9",n,!0,{})},26:function(e,t,a){var n=a(84);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(5).default)("405efde0",n,!0,{})},27:function(e,t,a){var n=a(86);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(5).default)("1799b7de",n,!0,{})},79:function(e,t,a){"use strict";var n=a(24);a.n(n).a},80:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".table-header-form[data-v-0da6b802] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.table-header-form__field[data-v-0da6b802] {\n  display: inline-block;\n  padding-right: 15px;\n  padding-bottom: 10px;\n}\n.table-header-form__field--block[data-v-0da6b802] {\n  display: flex;\n  align-items: baseline;\n  padding-right: 0;\n}\n.table-header-form__field--block .table-header-form__label[data-v-0da6b802] {\n  flex-grow: 0;\n}\n.table-header-form__field--block .table-header-form__input[data-v-0da6b802] {\n  flex-grow: 1;\n}\n.table-header-form__button[data-v-0da6b802] {\n  margin: 10px 10px 0 0;\n}\n",""])},81:function(e,t,a){"use strict";var n=a(25);a.n(n).a},82:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".table-group-form[data-v-523d5343] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.table-group-form__field[data-v-523d5343] {\n  padding-bottom: 10px;\n}\n.table-group-form__headers[data-v-523d5343] {\n  display: flex;\n  padding-bottom: 10px;\n}\n.table-group-form__headers-title[data-v-523d5343] {\n  flex-grow: 0;\n  padding-right: 10px;\n}\n.table-group-form__headers-list[data-v-523d5343] {\n  flex-grow: 1;\n  margin: 0;\n  list-style-type: disc;\n  padding-left: 20px;\n}\n",""])},83:function(e,t,a){"use strict";var n=a(26);a.n(n).a},84:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".edit-table-groups__hint[data-v-2453b280] {\n  display: block;\n  padding-bottom: 15px;\n}\n",""])},85:function(e,t,a){"use strict";var n=a(27);a.n(n).a},86:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".footnotes-form[data-v-5c7cdee4] {\n  border: 1px solid gray;\n  padding: 10px;\n  margin-bottom: 15px;\n  max-width: 1000px;\n}\n.footnotes-form__field[data-v-5c7cdee4] {\n  display: flex;\n  padding: 5px 0;\n}\n.footnotes-form__input[data-v-5c7cdee4] {\n  flex-grow: 1;\n}\n.footnotes-form__button[data-v-5c7cdee4] {\n  flex-grow: 0;\n}\n.footnotes-form__button[data-v-5c7cdee4]:not(:first-child) {\n  margin-left: 5px;\n}\n",""])},90:function(e,t,a){"use strict";a.r(t);var n=a(1),r={name:"App"},o=a(0),s=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("h1",[this._v("Event Planner")]),this._v(" "),t("router-view")],1)}),[],!1,null,null,null).exports,i=a(32),d={name:"IconsForm",props:{icons:Array},data(){return{modeledIcons:this.icons.map(e=>Object.assign({},e))}},methods:{addIcon(){const e=prompt("Gib den Fontawesome Icon Name an: ");e?this.modeledIcons.push({icon:e,name:e}):null!==e&&alert("Du musst einen Icon Namen für das neue Icon angeben!")},deleteIcon(e){window.confirm('Dieses Icon wirklich loeschen? (Wird erst endgültig gespeichert, wenn du auf "Speichern" geklickt hast.)')&&this.modeledIcons.splice(e,1)}}},l=Object(o.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-form"},[e._l(e.modeledIcons,(function(t,n){return a("div",{key:t.icon+"_"+n,staticClass:"icons-form__icon"},[a("i",{class:"fa fa-fw fa-"+t.icon}),e._v(" \n    "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"icon.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}}),e._v(" \n    "),a("button",{attrs:{type:"button"},on:{click:function(t){return e.deleteIcon(n)}}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n    ")])])})),e._v(" "),a("button",{attrs:{type:"button"},on:{click:e.addIcon}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Icon hinzufügen\n  ")]),e._v(" "),a("a",{attrs:{href:"https://fontawesome.com/icons?d=gallery&m=free",target:"_blank"}},[e._v("Hier kannst du sehen, welche Icons es gibt.")])],2)}),[],!1,null,"a7de3dc2",null).exports,u=a(3),c=a.n(u);const p=(window.eventPlannerApp?window.eventPlannerApp.rest_url:"http://127.0.0.1:8000/wp-json/")+"event-planner/v1/";async function f(){return await h({method:"get",url:`${p}headers`})}async function h(e){try{return(await c()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}c.a.defaults.headers.common["X-WP-Nonce"]=window.eventPlannerApp?window.eventPlannerApp.nonce:null;var m={name:"TableHeaderForm",components:{IconsForm:l},props:{isFirst:Boolean,id:String,name:String,order_id:String,group_id:String,type:String,additional:String,description:String},data(){return{modelName:this.name,modelOrderId:this.order_id,modelType:this.type,modelDescription:this.description}},methods:{async saveHeader(){const e=await async function(e){return e.id?await h({method:"post",url:`${p}update-header`,data:e}):(console.error("updateHeader failed because no header id was given!"),{error:"Es fehlen Daten, um die Änderungen zu speichern!"})}({id:this.id,name:this.modelName,order_id:this.modelOrderId,type:this.modelType,additional:"icons"===this.modelType?JSON.stringify(this.$refs.icons.modeledIcons):"",description:this.modelDescription});e&&e.error?alert(`Beim Bearbeiten ist ein Fehler aufgetreten: ${e.error}`):e&&e.success?(alert("Änderungen gespeichert!"),this.$emit("delete")):(console.error(e),alert("Es ist ein unbekannter Fehler aufgetreten!"))},async deleteHeader(){if(window.confirm("Dieser Tabellenkopf und alle zugehörigen Tabellendaten werden endgültig gelöscht. Dies kann nicht rueckgängig gemacht werden. Bist du sicher?")){const e=await async function(e){return e?await h({method:"delete",url:`${p}delete-header`,data:{id:e}}):(console.error("deleteHeader failed because no header id was given!"),{error:"Es fehlen Daten, um den Tabellenkopf zu löschen!"})}(this.id);if(e&&e.success)return alert("Tabellenkopf und zugehörige Daten wurden gelöscht!"),void this.$emit("delete");if(e&&e.error)return void alert(`Beim Löschen ist ein Fehler aufgetreten: ${e.error}`);alert("Beim Löschen ist ein unbekannter Fehler aufgetreten")}}}};a(79);function _(e,t){const a=parseInt(e.order_id),n=parseInt(t.order_id);return a<n?-1:a>n?1:0}var b={name:"EditTableHeaders",components:{TableHeaderForm:Object(o.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"table-header-form"},[e.isFirst?a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("i",{staticClass:"fa fa-info-circle"}),e._v("  "),a("strong",[e._v("Der erste Tabellenkopf muss immer das Datum der Veranstaltung enthalten. Deswegen kann hier nur der Name und die Beschreibung geändert werden.")])]):e._e(),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_name_"+e.id}},[e._v("Name: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"table-header-form__input",attrs:{type:"text",id:"header_name_"+e.id},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_type_"+e.id}},[e._v("\n      Typ: "),a("i",{staticClass:"fa fa-info-circle",attrs:{title:"Da je nach Typ unterschiedliche Daten in der Tabelle gespeichert werden, kann das Ändern des Typs zu unvorhergesehen Ergebnissen führen. Also am Besten nur ändern, wenn du weißt, was du tust."}}),e._v(" \n    ")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.modelType,expression:"modelType"}],staticClass:"table-header-form__input",attrs:{id:"header_type_"+e.id,disabled:e.isFirst},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"date"}},[e._v("Datum")]),e._v(" "),a("option",{attrs:{value:"text"}},[e._v("Text")]),e._v(" "),a("option",{attrs:{value:"longtext"}},[e._v("Mehrzeiliger Text")]),e._v(" "),a("option",{attrs:{value:"icons"}},[e._v("Icons")])])]),e._v(" "),a("div",{staticClass:"table-header-form__field"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_order_"+e.id}},[e._v("Reihenfolge: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelOrderId,expression:"modelOrderId"}],staticClass:"table-header-form__input",attrs:{type:"number",id:"header_order_"+e.id,disabled:e.isFirst,min:e.isFirst?1:2,step:"1"},domProps:{value:e.modelOrderId},on:{input:function(t){t.target.composing||(e.modelOrderId=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_description_"+e.id}},[e._v("\n      Beschreibung: "),a("i",{staticClass:"fa fa-info-circle",attrs:{title:"Die Beschreibung wird - wenn vorhanden - angezeigt, wenn sich die Maus über dem Tabellenkopf befindet."}}),e._v(" \n    ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelDescription,expression:"modelDescription"}],staticClass:"table-header-form__input",attrs:{type:"text",id:"header_description_"+e.id},domProps:{value:e.modelDescription},on:{input:function(t){t.target.composing||(e.modelDescription=t.target.value)}}})]),e._v(" "),"icons"===e.type?a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("label",{staticClass:"table-header-form__label",attrs:{for:"header_description_"+e.id}},[e._v("\n      Icons:\n    ")]),e._v(" "),a("IconsForm",{ref:"icons",attrs:{icons:JSON.parse(e.additional||"[]")}})],1):e._e(),e._v(" "),a("div",{staticClass:"table-header-form__field table-header-form__field--block"},[a("button",{staticClass:"table-header-form__button",attrs:{type:"button"},on:{click:e.saveHeader}},[a("i",{staticClass:"fa fa-fw fa-save"}),e._v(" Speichern\n    ")]),e._v(" "),e.isFirst?e._e():a("button",{staticClass:"table-header-form__button",attrs:{type:"button"},on:{click:e.deleteHeader}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n    ")])])])}),[],!1,null,"0da6b802",null).exports},data:()=>({headers:[]}),async created(){await this.loadHeaders()},computed:{orderedHeaders(){return this.headers.sort(_)}},methods:{async loadHeaders(){this.headers=await f()},async addNewHeader(){const e=prompt("Wie soll der neue Tabellenkopf heißen?");if(e){const t=parseInt(this.orderedHeaders[this.orderedHeaders.length-1].order_id),a=await async function(e,t){return await h({method:"post",url:`${p}add-header`,data:{name:e,order_id:t,type:"text",additional:"",description:""}})}(e,t+1);if(a&&a.success)return alert("Tabellenkopf wurde angelegt!"),void await this.loadHeaders();if(a&&a.error)return void alert(`Beim Anlegen ist ein Fehler aufgetreten: ${a.error}`);alert("Beim Anlegen ist ein unbekannter Fehler aufgetreten")}else null!==e&&alert("Bitte gib einen Namen an, wenn du einen Tabellenkopf hinzufügen willst!")}}},g=Object(o.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-table-headers"},[a("h2",[e._v("Tabellenköpfe bearbeiten")]),e._v(" "),e._l(e.orderedHeaders,(function(t){return a("TableHeaderForm",e._b({key:"header_"+t.id,attrs:{isFirst:"1"===t.order_id},on:{delete:e.loadHeaders,update:e.loadHeaders}},"TableHeaderForm",t,!1))})),e._v(" "),a("button",{staticClass:"edit-table-headers__add",attrs:{type:"button"},on:{click:e.addNewHeader}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Tabellenkopf hinzufügen\n  ")])],2)}),[],!1,null,"3953bc52",null).exports,v={name:"TableGroupForm",props:{headers:Array,id:String,name:String},computed:{groupHeaders(){return this.headers.filter(e=>e.group_id===this.id&&-1===this.deletedHeaders.indexOf(e.id)||this.addedHeaders.indexOf(e.id)>-1).sort(_)},nonGroupHeaders(){return this.headers.filter(e=>!e.group_id&&-1===this.addedHeaders.indexOf(e.id)||this.deletedHeaders.indexOf(e.id)>-1).sort(_)}},data(){return{modelName:this.name,modelAddHeader:"",addedHeaders:[],deletedHeaders:[]}},methods:{addHeader(){const e=this.deletedHeaders.indexOf(this.modelAddHeader);e>-1?this.deletedHeaders.splice(e,1):-1===this.addedHeaders.indexOf(this.modelAddHeader)&&this.addedHeaders.push(this.modelAddHeader),this.modelAddHeader=""},deleteHeader(e){const t=this.addedHeaders.indexOf(e);t>-1?this.addedHeaders.splice(t,1):-1===this.deletedHeaders.indexOf(e)&&this.deletedHeaders.push(e)},async saveGroup(){const e=await async function(e,t,a,n){return e&&t?await h({method:"post",url:`${p}update-header-group`,data:{id:e,name:t,added:a,deleted:n}}):(console.error("updateHeaderGroup failed because not enough data was given!"),{error:"Es fehlen Daten, um die Änderungen zu speichern!"})}(this.id,this.modelName,this.addedHeaders,this.deletedHeaders);if(e&&e.success)return alert("Änderungen wurden gespeichert!"),void this.$emit("update-group");e&&e.error?alert(`Beim Speichern ist ein Fehler aufgetreten: ${e.error}`):alert("Beim Speichern ist ein unbekannter Fehler aufgetreten")},async deleteGroup(){if(window.confirm("Diese Tabellengruppe und alle Zuordnungen werden endgültig gelöscht. Dies kann nicht rueckgängig gemacht werden. Bist du sicher?")){const e=await async function(e){return e?await h({method:"delete",url:`${p}delete-header-group`,data:{id:e}}):(console.error("deleteHeaderGroup failed because no header group id was given!"),{error:"Es fehlen Daten, um die Tabellengruppe zu löschen!"})}(this.id);if(e&&e.success)return alert("Tabellengruppe und Zuordnungen wurden gelöscht!"),void this.$emit("delete-group");if(e&&e.error)return void alert(`Beim Löschen ist ein Fehler aufgetreten: ${e.error}`);alert("Beim Löschen ist ein unbekannter Fehler aufgetreten")}}}},w=(a(81),{name:"EditTableGroups",components:{TableGroupForm:Object(o.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"table-group-form"},[a("div",{staticClass:"table-group-form__field"},[a("label",{staticClass:"table-group-form__label",attrs:{for:"group_name_"+e.id}},[e._v("Name: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"table-group-form__input",attrs:{type:"text",id:"group_name_"+e.id},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"table-group-form__headers"},[a("div",{staticClass:"table-group-form__headers-title"},[e._v("Zugeordnete Tabellenköpfe:")]),e._v(" "),a("ul",{staticClass:"table-group-form__headers-list"},e._l(e.groupHeaders,(function(t){return a("li",{key:"group_header_"+t.id},[e._v("\n        "+e._s(t.name)+" \n        "),a("button",{staticClass:"table-group-form__button",attrs:{type:"button"},on:{click:function(a){return e.deleteHeader(t.id)}}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n        ")])])})),0)]),e._v(" "),a("div",{staticClass:"table-group-form__field"},[e._v("\n    Tabellenkopf hinzufügen:\n    "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.modelAddHeader,expression:"modelAddHeader"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelAddHeader=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("--Auswählen--")]),e._v(" "),e._l(e.nonGroupHeaders,(function(t){return a("option",{key:"non_group_header_"+t.id,domProps:{value:t.id}},[e._v("\n        "+e._s(t.name)+"\n      ")])}))],2),e._v(" "),a("button",{staticClass:"table-group-form__button",attrs:{type:"button"},on:{click:e.addHeader}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Hinzufügen\n    ")])]),e._v(" "),a("div",{staticClass:"table-group-form__field"},[a("button",{staticClass:"table-group-form__button",attrs:{type:"button"},on:{click:e.saveGroup}},[a("i",{staticClass:"fa fa-fw fa-save"}),e._v(" Speichern\n    ")]),e._v(" "),a("button",{staticClass:"table-group-form__button",attrs:{type:"button"},on:{click:e.deleteGroup}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n    ")])])])}),[],!1,null,"523d5343",null).exports},data:()=>({headers:[],headerGroups:[]}),async created(){await this.load()},methods:{async load(){await this.loadHeaders(),await this.loadHeaderGroups()},async loadHeaders(){this.headers=await f()},async loadHeaderGroups(){this.headerGroups=await async function(){return await h({method:"get",url:`${p}header-groups`})}()},async addNewGroup(){const e=prompt("Wie soll die neue Tabellengruppe heißen?");if(e){const t=await async function(e){return await h({method:"post",url:`${p}add-header-group`,data:{name:e}})}(e);if(t&&t.success)return alert("Tabellengruppe wurde angelegt!"),void await this.loadHeaderGroups();if(t&&t.error)return void alert(`Beim Anlegen ist ein Fehler aufgetreten: ${t.error}`);alert("Beim Anlegen ist ein unbekannter Fehler aufgetreten")}else null!==e&&alert("Bitte gib einen Namen an, wenn du eine Tabellengruppe hinzufügen willst!")}}}),y=(a(83),Object(o.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-table-groups"},[a("h2",[e._v("Tabellengruppen bearbeiten")]),e._v(" "),e._m(0),e._v(" "),e._l(e.headerGroups,(function(t){return a("TableGroupForm",e._b({key:"group_"+t.id,attrs:{headers:e.headers.filter((function(e){return"1"!==e.order_id}))},on:{"update-group":e.load,"delete-group":e.loadHeaderGroups}},"TableGroupForm",t,!1))})),e._v(" "),a("button",{staticClass:"edit-table-groups__add",attrs:{type:"button"},on:{click:e.addNewGroup}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Tabellengruppe hinzufügen\n  ")])],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("strong",{staticClass:"edit-table-groups__hint"},[this._v("\n    Tabellenköpfe in einer Gruppe sollten möglichst in der Reihenfolge direkt nacheinander stehen (das macht die Tabelle übersichtlicher)."),t("br"),this._v("\n    Jeder Tabellenkopf kann nur einer Gruppe zugeordnet werden."),t("br"),this._v("\n    Willst du also einen Tabellenkopf in eine andere Gruppe verschieben, musst du ihn zuerst aus der alten Gruppe löschen, speichern und dann in der neuen hinzufügen und wieder speichern. \n  ")])}],!1,null,"2453b280",null).exports),x={name:"EditTeaser",data:()=>({})},k=Object(o.a)(x,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-settings"},[t("h2",[this._v("Teaser bearbeiten")])])}],!1,null,"926af922",null).exports,C={name:"FootnotesForm",props:{header:Object,footnotes:Array},data(){return{modeledFootnotes:this.footnotes.map(e=>Object.assign({deleted:!1},e)),countNew:0,newPrefix:"NEW"}},computed:{modeledFootnotesFiltered(){return this.modeledFootnotes.filter(e=>!0!==e.deleted)}},methods:{deleteFootnote(e){if(window.confirm('Diese Fußnote wirklich loeschen? (Wird erst endgültig gespeichert, wenn du auf "Speichern" geklickt hast.)')){0===this.modeledFootnotes[e].id.indexOf(this.newPrefix)?this.modeledFootnotes.splice(e,1):this.modeledFootnotes[e].deleted=!0}},addFootnote(){const e=prompt("Gib den Text für die Fußnote an: ");e?(this.modeledFootnotes.push({text:e,header_id:this.header.id,id:`${this.newPrefix}_${this.countNew}`}),this.countNew++):null!==e&&alert("Du musst einen Text für die neue Fußnote angeben!")},async save(){let e=!1;await this.modeledFootnotes.forEach(async t=>{let a;if((a=t.deleted?await async function(e){return e?await h({method:"delete",url:`${p}delete-header-footnote`,data:{id:e}}):(console.error("deleteFootnote failed because no footnote id was given!"),{error:"Es fehlen Daten, um die Fußnote zu löschen!"})}(t.id):0===t.id.indexOf(this.newPrefix)?await async function(e){return await h({method:"post",url:`${p}add-header-footnote`,data:e})}(t):await async function(e){return e.id&&e.text&&e.header_id?await h({method:"post",url:`${p}update-header-footnote`,data:e}):(console.error("updateFootnote failed because not enough data was given!"),{error:"Es fehlen Daten, um die Änderungen zu speichern!"})}(t)).error)return e=!0,void alert(a.error)}),e||(alert("Änderungen gespeichert!"),this.$emit("update"))}}},F=(a(85),{name:"EditFootnotes",components:{FootnotesForm:Object(o.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"footnotes-form"},[a("strong",[e._v(e._s(e.header.name))]),e._v(" "),e._l(e.modeledFootnotesFiltered,(function(t,n){return a("div",{key:"footnote_"+t.id,staticClass:"footnotes-form__field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"footnote.text"}],staticClass:"footnotes-form__input",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(a){a.target.composing||e.$set(t,"text",a.target.value)}}}),e._v(" "),a("button",{staticClass:"footnotes-form__button",attrs:{type:"button"},on:{click:function(t){return e.deleteFootnote(n)}}},[a("i",{staticClass:"fa fa-fw fa-trash"}),e._v(" Löschen\n    ")])])})),e._v(" "),a("div",{staticClass:"footnotes-form__field"},[e.modeledFootnotes.length?a("button",{staticClass:"footnotes-form__button",attrs:{type:"button"},on:{click:e.save}},[a("i",{staticClass:"fa fa-fw fa-save"}),e._v(" Speichern\n    ")]):e._e(),e._v(" "),a("button",{staticClass:"footnotes-form__button",attrs:{type:"button"},on:{click:e.addFootnote}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Fußnote hinzufügen\n    ")])])],2)}),[],!1,null,"5c7cdee4",null).exports},data:()=>({headers:[],footnotes:[]}),async created(){await this.load()},methods:{async load(){this.headers=[],this.footnotes=await async function(){return await h({method:"get",url:`${p}header-footnotes`})}(),this.headers=await f()},getFootnotesForHeader(e){return this.footnotes.filter(t=>t.header_id===e)}}}),H=Object(o.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-footnotes"},[a("h2",[e._v("Fußnoten bearbeiten")]),e._v(" "),e._l(e.headers,(function(t){return a("FootnotesForm",{key:"header_"+t.id,attrs:{header:t,footnotes:e.getFootnotesForHeader(t.id)},on:{update:e.load}})}))],2)}),[],!1,null,null,null).exports;n.a.use(i.a);var T=new i.a({routes:[{path:"/",name:"EditTableHeaders",component:g},{path:"/teaser",name:"EditTeaser",component:k},{path:"/table-groups",name:"EditTableGroups",component:y},{path:"/footnotes",name:"EditFootnotes",component:H}]});var $=function(e){var t=jQuery;let a=t("#toplevel_page_"+e),n=window.location.href,r=n.substr(n.indexOf("admin.php"));a.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",a).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",a).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",a).each((function(e,a){t(a).attr("href")!==r||t(a).parent().addClass("current")}))};n.a.config.productionTip=!1,new n.a({el:"#vue-admin-app",router:T,render:e=>e(s)}),$("vue-app")}},[[90,0,1]]]);